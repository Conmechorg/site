/* ============================
   Consciousness Mechanics (CM)
   Landing page stylesheet
   Single source of truth
   ============================ */

/* ---------- CSS Variables ---------- */
:root{
  /* Lifted background palette (closer to CM logo teal; less "mysterious") */
  --bg-deep: #1b4f5f;
  --bg-mid:  #1f6174;

  --panel:   #ffffff;
  --ink:     #142127;
  --muted:   #5a6b73;

  --teal:    #0b7f84;
  --teal-2:  #0a6d72;
  --orange:  #f59b00;
  --ring:    rgba(245,155,0,.35);

  --radius: 18px;
  --shadow: 0 20px 60px rgba(0,0,0,.22);
  --shadow2: 0 10px 25px rgba(0,0,0,.11);

  --max: 1080px;
  --gutter: 22px;

  /* Header tuning */
  --header-logo: 84px;
  --header-nav-size: 14.5px;
  --header-offset: 68px;

  /* Layout rhythm */
  --rhythm: 18px;
  --section-pad: 18px;
  --stack-gap: 14px;

  /* CCM marker */
  --ccm-icon-h: 1.05em;
  --ccm-icon-w: 2.05em;
  --ccm-icon-gap: 0.45em;
  --ccm-icon-opacity: .65;
}

/* ---------- Base Reset / Safety ---------- */
*{ box-sizing: border-box; }
html,body{ height:100%; }
html{ scroll-behavior: smooth; }

:target{ scroll-margin-top: 90px; }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--ink);

  background:
    radial-gradient(1200px 760px at 18% 10%, rgba(11,127,132,.26), transparent 68%),
    radial-gradient(1000px 720px at 82% 26%, rgba(245,155,0,.10), transparent 70%),
    linear-gradient(180deg, #2f6f7d 0%, #2a616d 50%, #245662 100%);

  background-attachment: fixed, fixed, fixed;

  overflow-x: hidden;
}

img, svg{
  max-width: 100%;
  height: auto;
  display: block;
}

.container{
  max-width: var(--max);
  margin: 0 auto;
  padding-left: var(--gutter);
  padding-right: var(--gutter);
}

/* ============================
   Header (SaaS-style)
   ============================ */
.site-header{
  position: sticky;
  top: 0;
  z-index: 1000;

  padding-top: 10px;
  padding-bottom: 6px;

  background: rgba(47, 111, 125, 0.72);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  border-bottom: 1px solid rgba(255,255,255,.06);

}

.header-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 22px;
}

/* Header top row (brand + hamburger on mobile) */
.header-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 14px;
  width: 100%;
}

/* Hamburger toggle (hidden on desktop) */
.nav-toggle{
  display:none;
  align-items:center;
  justify-content:center;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(234,246,247,.92);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
}

.nav-toggle:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.18);
  transform: translateY(-1px);
}

.nav-toggle:focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px rgba(245,155,0,.28);
  border-color: rgba(245,155,0,.55);
}

/* 3 bars */
.nav-toggle-bars{
  position: relative;
  width: 20px;
  height: 14px;
  display:block;
}

.nav-toggle-bars::before,
.nav-toggle-bars::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  height: 2px;
  border-radius: 999px;
  background: rgba(234,246,247,.92);
  transition: transform .18s ease, top .18s ease, opacity .18s ease;
}

.nav-toggle-bars::before{ top:0; box-shadow: 0 6px 0 rgba(234,246,247,.92); }
.nav-toggle-bars::after{ top:12px; }

/* Open state: turn into an X */
.site-header.is-nav-open .nav-toggle-bars::before{
  top:6px;
  box-shadow: none;
  transform: rotate(45deg);
}

.site-header.is-nav-open .nav-toggle-bars::after{
  top:6px;
  transform: rotate(-45deg);
}

.brand{
  display:flex;
  align-items:center;
  gap: 14px;
  text-decoration: none;
  min-width: 0;
}

.site-header .brand-logo{
  filter: drop-shadow(0 6px 16px rgba(0,0,0,.22));
}

.brand-logo{
  width: var(--header-logo);
  height: var(--header-logo);
  object-fit: contain;
  flex: 0 0 auto;
}

.brand-name{
  color: #eaf6f7;
  font-weight: 900;
  letter-spacing: .015em;
  font-size: 22px;
  line-height: 1.05;
  white-space: nowrap;
}

.brand-name-lite{
  font-weight: 750;
  opacity: .95;
}

.nav{
  display:flex;
  align-items:center;
  gap: 22px;
  margin: 0;
  padding: 0;
  transform: none;
}

.nav-link{
  color: rgba(234,246,247,.90);
  text-decoration: none;
  font-size: var(--header-nav-size);
  font-weight: 700;
  letter-spacing: .01em;
  padding: 6px 2px;
  border-bottom: 2px solid transparent;
  transition: .18s ease;
  white-space: nowrap;
  opacity: 0.92;
}

.nav-link:hover{
  color: rgba(234,246,247,1);
  border-bottom-color: rgba(245,155,0,.75);
  opacity: 1;
}

/* ============================
   Main layout
   ============================ */
.main{
  padding-top: calc(var(--rhythm) * 0.5);
  padding-bottom: 44px;
}

.main-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 22px;
  align-items: stretch;
}

/* ============================
   Hero layout helpers
   ============================ */

/* Use on pages like Signals/Origins when you want title + narrative on one row */
.hero-inline-hero{
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  gap: 22px;
  flex-wrap: wrap;
  text-align: left;
}

/* Keep title tight in inline hero */
.hero-inline-hero .hero-title{
  margin: 0;
}

/* Narrative block beside title */
.hero-inline{
  max-width: 78ch; /* widen so “limits explicit” doesn’t wrap early */
  margin: 0;
  opacity: .92;
}

/* On small screens, stack naturally */
@media (max-width: 720px){
  .hero-inline-hero{
    flex-direction: column;
    gap: 10px;
  }
  .hero-inline{
    max-width: 100%;
  }
}

/* ============================
   Hero card
   ============================ */
.hero{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: var(--radius);
  padding: 28px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  position: relative;
  overflow:hidden;

  display:flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 100%;
}

.hero > *{ position: relative; }

.hero-title{
  margin: 14px 0 10px;
  line-height: 1.05;
  font-size: clamp(34px, 4vw, 56px);
  letter-spacing: -0.03em;
  color: rgba(255,255,255,.94);
}

.hero-sub{
  max-width: 62ch;
  margin: 0 0 16px;
  color: rgba(234,246,247,.88);
  font-size: 16px;
  line-height: 1.55;
}

.hero-sub-tight{ margin-bottom: 0; }

.hero{ min-height: 420px; }

/* Signals page: compact hero helpers */
.hero-compact{ min-height: auto; padding: 22px; justify-content: flex-start;}
.hero-title-sm{ margin: 4px 0 8px; font-size: clamp(28px, 3.2vw, 44px); }
.hero-sub-tight{ margin: 0; }

/* ============================
   Signals hero INLINE layout
   (Used in signals.html / origins.html)
   ============================ */
.hero.hero-inline-hero{
  display: flex;
  flex-direction: row;         /* override base .hero column */
  align-items: flex-start;
  justify-content: flex-start; /* override space-between */
  gap: 18px;
  flex-wrap: wrap;
  text-align: left;
}

/* Keep title tight */
.hero.hero-inline-hero .hero-title{
  margin: 0;
  flex: 0 0 auto;
}

/* Let the blurb fill remaining space */
.hero.hero-inline-hero .hero-inline{
  max-width: 92ch;
  margin: 0;
  opacity: .92;
  flex: 1 1 520px;
}

/* Legacy/alternate class (if you ever use it) */
.hero.hero-row{
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  gap: 18px;
  flex-wrap: wrap;
  text-align: left;
}

.hero.hero-row.hero-compact{
  min-height: auto;
}

.hero.hero-row .hero-title{
  margin: 0;
}

.hero-inline{
  max-width: 72ch;
  margin: 0;
  opacity: .92;
}

.hero-actions{
  margin-left: auto;
  display:flex;
  gap: 10px;
  align-items:center;
}

/* ============================
   Panels
   ============================ */
.panel{
  background: var(--panel);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: var(--shadow2);
  border: 1px solid rgba(20,33,39,.06);

  display:flex;
  flex-direction: column;
  justify-content: flex-start;
}

.panel-signup{
  min-height: 420px;
  justify-content: space-between;
}

.logo-box{
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: 14px;
  padding: 18px;
  border: 1px dashed rgba(20,33,39,.18);
  background: linear-gradient(180deg, rgba(11,127,132,.08), rgba(245,155,0,.05));
  margin-bottom: 10px;
}

.cm-logo{
  width: 100%;
  max-width: 520px;
  height: auto;
}

.panel-title{
  margin: 6px 0 10px;
  font-size: 18px;
  letter-spacing: -0.015em;
}

.panel-text{
  margin: 0 0 12px;
  color: rgba(14, 23, 27, 0.78);
  line-height: 1.55;
  font-size: 14.5px;
}

.form-row{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: stretch;
}

.field{ flex: 1 1 220px; }

input[type="email"]{
  width: 100%;
  padding: 12px 12px;
  border-radius: 12px;
  border: 1px solid rgba(20,33,39,.18);
  outline: none;
  font-size: 15px;
  transition: .15s ease;
}

input[type="email"]:focus{
  border-color: rgba(245,155,0,.85);
  box-shadow: 0 0 0 5px var(--ring);
}

.btn-submit{
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.10);
  background: var(--orange);
  color: #162126;
  font-weight: 800;
  cursor: pointer;
  transition: .2s ease;
  flex: 0 0 auto;
}

.btn-submit:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(245,155,0,.18);
}

.fine{
  margin-top: 8px;
  font-size: 12.5px;
  color: rgba(20,33,39,.72);
  line-height: 1.45;
}

.status{
  display:none;
  margin-top: 8px;
  font-size: 12.5px;
  line-height: 1.45;
}

/* ============================
   Below fold sections
   ============================ */
.below{ padding: var(--section-pad) 0; }
.below + .below{ padding-top: 0; }
.below .container > * + *{ margin-top: var(--stack-gap); }

/* ============================
   Feature tiles
   ============================ */
.features{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  align-items: stretch;
  margin: 0;
}

.feature-card{
  border-radius: var(--radius);
  padding: 18px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(234,246,247,.9);
  box-shadow: 0 14px 30px rgba(0,0,0,.18);
  transition: transform .2s ease, box-shadow .2s ease;

  display: grid;
  grid-template-columns: 40px 1fr;
  grid-template-rows: auto auto;
  column-gap: 12px;
  row-gap: 4px;
  align-content: start;
}

.feature-badge{
  width: 34px;
  height: 34px;
  border-radius: 10px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border: 1px solid rgba(245,155,0,.28);
  background: var(--orange);
  color: #162126;
  font-weight: 850;
  opacity: 0.92;
  grid-column: 1;
  grid-row: 1 / span 2;
}

.feature-card h3{
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.01em;
  grid-column: 2;
  grid-row: 1;
}

.feature-card p{
  margin: 0;
  font-size: 14px;
  line-height: 1.45;
  color: rgba(234,246,247,.82);
  grid-column: 2;
  grid-row: 2;
}

.feature-card:hover{
  transform: translateY(-4px);
  box-shadow: 0 18px 40px rgba(0,0,0,.22);
}

.wide-panel{ width: 100%; margin-top: 0; }
.wide-panel.panel{ box-shadow: 0 18px 44px rgba(0,0,0,.18); }

/* ============================
   Section title with CCM marker
   ============================ */
.section-title{
  display: inline-flex;
  align-items: center;
  gap: var(--ccm-icon-gap);
  position: relative;
  padding-left: 0;
  margin-top: 0;
}

.section-title::before{
  content: "";
  display: inline-block;
  width: var(--ccm-icon-w);
  height: var(--ccm-icon-h);
  flex: 0 0 auto;

  background-image: url("/assets/logo/ccm-logo.png");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;

  opacity: var(--ccm-icon-opacity);
  transform: translateY(0.06em);
  filter: drop-shadow(0 1px 0 rgba(255,255,255,.35));

  transition: opacity .18s ease, transform .18s ease, filter .18s ease;
}

.section-title:hover::before,
.section-title:focus-within::before{
  opacity: .85;
  transform: translateY(0.06em) scale(1.02);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.12));
}

/* ============================
   Helpers
   ============================ */
.section-divider{
  height: 1px;
  opacity: 0.12;
  margin: 14px 0;
  background: linear-gradient(90deg, transparent, rgba(20,33,39,0.35), transparent);
}

.kicker{
  font-weight: 800;
  letter-spacing: 0.2px;
  margin: 0 0 6px;
  color: rgba(14,23,27,.92);
}

.chunk-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-top: 8px;
}

.orange-points{
  list-style: none;
  padding-left: 0;
  margin: 8px 0 0;
  display: grid;
  gap: 8px;
}

.orange-points li{
  display: grid;
  grid-template-columns: 14px 1fr;
  align-items: start;
  column-gap: 10px;
}

.orange-points li::before{
  content: "";
  width: 10px;
  height: 10px;
  margin-top: 6px;
  border-radius: 999px;
  background: var(--orange);
  box-shadow: 0 0 0 3px rgba(245,155,0,.18);
}

.updates-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}

.updates-link{
  font-size:13px;
  font-weight:800;
  color: rgba(20,33,39,.70);
  white-space:nowrap;
}

.updates-link a{
  color: var(--orange);
  font-weight: 850;
  text-decoration:none;
  border-bottom:2px solid rgba(245,155,0,.55);
  display:inline;
}

.updates-link a:hover{
  border-bottom-color: rgba(245,155,0,.95);
}

/* --- FIX: home page Updates cards causing horizontal overflow --- */

/* Ensure updates container can't exceed viewport */
.updates,
.updates-panel,
.updates-list,
.updates-items{
  max-width: 100%;
}

/* If the update rows are flex, allow text to shrink/wrap */
.updates-item,
.update-item,
.updates-card{
  max-width: 100%;
}

/* The key flex fix: allow the main text block to shrink */
.updates-item *,
.update-item *,
.updates-card *{
  min-width: 0;
}

/* Prevent long titles/links forcing width */
.updates-item a,
.update-item a,
.updates-card a,
.updates-item h3,
.update-item h3,
.updates-card h3{
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* If a row is laid out as flex, let it wrap on mobile */
@media (max-width: 720px){
  .updates-item,
  .update-item,
  .updates-card{
    flex-wrap: wrap;
  }
}

/* Style action links inside normal panel text only */
.panel-text a{
  color: var(--orange);
  font-weight: 850;
  text-decoration: none;
  border-bottom: 2px solid rgba(245,155,0,.55);
  display:inline;
}
.panel-text a:hover{
  border-bottom-color: rgba(245,155,0,.95);
}

/* ============================
   What’s coming: image + text grid
   ============================ */
.coming-layout{
  display: grid;
  grid-template-columns: 280px 1fr;
  grid-template-rows: auto 1fr;
  column-gap: 22px;
  row-gap: 10px;
  align-items: start;
}

.coming-title{ grid-column: 1; grid-row: 1; margin: 0; }
.coming-media{ grid-column: 1; grid-row: 2; }
.coming-content{ grid-column: 2; grid-row: 1 / span 2; align-self: start; }
.coming-content > *:first-child{ margin-top: 0; }

.hero,
.feature-card,
.panel,
.wide-panel.panel{
  box-shadow:
    0 18px 40px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.08);
}

/* ============================
   Footer
   ============================ */
.site-footer{
  padding-top: 18px;
  padding-bottom: 28px;
  color: rgba(234,246,247,.72);
  font-size: 13px;
  border-top: 1px solid rgba(255,255,255,.10);
  margin-top: 14px;
}

.footer-inner{
  display:flex;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.site-footer a{
  color: rgba(234,246,247,.85);
  text-decoration: none;
  border-bottom: 1px solid rgba(245,155,0,.35);
}

.site-footer a:hover{
  border-bottom-color: rgba(245,155,0,.75);
}

/* ============================
   Responsive
   ============================ */
@media (max-width: 940px){
  .main-grid{ grid-template-columns: 1fr; }
  .features{ grid-template-columns: 1fr; }

  .header-inner{
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    min-height: 56px;
  }

  /* Tablet: keep links in a single row with horizontal scroll if needed */
  .nav{
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    gap: 14px;
    padding-bottom: 4px;
  }

  .nav::-webkit-scrollbar{ height: 0; }

  .chunk-grid{ grid-template-columns: 1fr; }
}

@media (max-width: 720px){
  :root{
    --gutter: 16px;
    --header-offset: 62px;
  }

  .brand-logo{ width: 92px; height: 92px; }
  .brand-name{ font-size: 18px; }

  /* Mobile: hamburger menu */
  .nav-toggle{ display: inline-flex; }

  .nav{
    width: 100%;
    flex-direction: column;
    align-items: stretch;

    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transform: translateY(-6px);
    pointer-events: none;

    gap: 0;
    padding: 0;
    margin: 6px 0 0;

    border-top: 1px solid rgba(255,255,255,.10);

    transition: max-height .22s ease, opacity .18s ease, transform .18s ease;
  }

  .nav.is-open{
    max-height: 420px; /* enough for 5 links */
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    padding-top: 10px;
    padding-bottom: 6px;
  }

  .nav-link{
    display:block;
    padding: 12px 14px;
    border-bottom: 0;
    border-radius: 14px;

    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.10);
  }

  .nav-link + .nav-link{ margin-top: 8px; }

  .nav-link:hover{
    background: rgba(255,255,255,.10);
    border-color: rgba(255,255,255,.14);
  }

  .nav-link[aria-current="page"],
  .nav-link.is-current{
    background: rgba(245,155,0,.14);
    border-color: rgba(245,155,0,.38);
  }

  .hero{ padding: 18px; }

  .hero-title{
    font-size: 2.1rem;
    line-height: 1.08;
    letter-spacing: -0.02em;
    margin-bottom: 10px;
  }

  .hero-sub{
    font-size: 1rem;
    line-height: 1.5;
    max-width: 60ch;
    margin-bottom: 14px;
  }

  /* Signals hero: stack on mobile */
  .hero.hero-row,
  .hero.hero-inline-hero{
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  .hero-inline{ max-width: 100%; }
  .hero-actions{ margin-left: 0; }

  .panel{
    padding: 16px;
    border-radius: 18px;
  }

  .form-row{
    display:grid;
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .btn-submit{ width: 100%; }

  .coming-layout{
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    row-gap: 12px;
  }

  .coming-title{ grid-column: 1; grid-row: 1; }
  .coming-media{ grid-column: 1; grid-row: 2; }
  .coming-content{ grid-column: 1; grid-row: 3; }
}

/* ============================
   Signals page (card list)
   ============================ */

.signals-list{
  display: grid;
  gap: 12px;
}

.signal-card{
  border: 1px solid rgba(11,127,132,.28);
  border-radius: 14px;
  padding: 12px 14px;
  background: linear-gradient(180deg, rgba(11,127,132,.24), rgba(11,127,132,.12));
  box-shadow: 0 10px 22px rgba(0,0,0,.06);
  transition: border-color .18s ease;
}

.signal-card:hover{
  border-color: rgba(11,127,132,.40);
}

.signal-top{
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.signal-main{
  min-width: 0;
  flex: 1 1 auto;
}

.signal-title{
  font-weight: 850;
  letter-spacing: -0.01em;
  color: rgba(14,23,27,.92);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* IMPORTANT: NO grid here (grid caused full-width underlines) */
.signal-text{
  margin-top: 4px;
  font-size: 13.5px;
  line-height: 1.5;
  color: rgba(14,23,27,.78);
}

/* Orange action links ONLY in signals text/detail */
.signal-text a,
.signal-detail a{
  color: var(--orange);
  font-weight: 850;
  text-decoration: none;
  border-bottom: 2px solid rgba(245,155,0,.55);
  display: inline;
}

.signal-text a:hover,
.signal-detail a:hover{
  border-bottom-color: rgba(245,155,0,.95);
}

.signal-date{
  font-size: 12.5px;
  color: rgba(20,33,39,.60);
  white-space: nowrap;
}

/* Chips */
.signal-chip{
  font-size: 12px;
  font-weight: 850;
  padding: 4px 10px;
  border-radius: 999px;
  color: rgba(20,33,39,.92);
  white-space: nowrap;
  margin-top: 1px;
  flex: 0 0 auto;
}

.signal-chip.is-video{
  background: rgba(245,155,0,.20);
  border: 1px solid rgba(245,155,0,.38);
}
.signal-chip.is-site{
  background: rgba(11,127,132,.18);
  border: 1px solid rgba(11,127,132,.30);
}
.signal-chip.is-doc{
  background: rgba(20,33,39,.09);
  border: 1px solid rgba(20,33,39,.14);
}

/* Filter row */
.signals-filters{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin: 6px 0 14px;
}

.signals-pills{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

@media (max-width: 720px){
  .signals-filters{ gap: 10px; }
  .signals-pills{
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 4px;
    margin-right: -4px;
  }
  .signals-pills::-webkit-scrollbar{ height: 0; }
  .signals-controls{
    width: 100%;
    justify-content: flex-start;
    flex-wrap: wrap;
  }
}

.signals-pill{
  font-size:12px;
  font-weight:850;
  padding:10px 14px;
  min-height: 40px;
  border-radius:999px;
  border:1px solid rgba(245,155,0,.35);
  background: rgba(245,155,0,.10);
  color: #162126;
  cursor:pointer;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}

.signals-pill:hover{
  transform: translateY(-2px);
  background: rgba(245,155,0,.18);
  box-shadow:0 10px 18px rgba(0,0,0,.10);
}

.signals-pill.is-active{
  background: var(--orange);
  border-color: rgba(0,0,0,.15);
  color:#162126;
  box-shadow:0 8px 18px rgba(245,155,0,.35);
}

.signals-controls{
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
}

.signals-ctl{
  border:1px solid rgba(245,155,0,.45);
  background: rgba(245,155,0,.12);
  color:#162126;
  padding:10px 14px;
  min-height: 40px;
  border-radius:999px;
  font-weight:850;
  font-size:13px;
  cursor:pointer;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}

.signals-ctl:hover{
  transform: translateY(-2px);
  background: rgba(245,155,0,.20);
  box-shadow:0 10px 18px rgba(0,0,0,.10);
}

/* More button: always on its own line */
.signal-more{
  display: block;
  margin-top: 6px;

  border: 0;
  background: transparent;
  padding: 0;

  color: var(--orange);
  font-weight: 850;
  border-bottom: 2px solid rgba(245,155,0,.55);
  cursor: pointer;

  width: fit-content;
  white-space: nowrap;
}

.signal-more:hover{
  border-bottom-color: rgba(245,155,0,.95);
}

/* Expanded detail: NO box, NO indent */
.signal-detail{
  margin-top: 8px;
  padding: 0;
  border: 0;
  background: transparent;
}

.signal-detail-p{
  margin: 0 0 8px;
  color: rgba(14, 23, 27, 0.78);
  line-height: 1.55;
  font-size: 13.5px;
}

/* Back to top: centered + orange action */
.to-top{
  position: fixed;
  z-index: 1200;
  left: 50%;
  bottom: calc(14px + env(safe-area-inset-bottom));
  width: 46px;
  height: 46px;
  border-radius: 999px;

  border: 1px solid rgba(0,0,0,.12);
  background: var(--orange);
  color: #162126;
  font-weight: 950;
  cursor: pointer;

  box-shadow: 0 14px 30px rgba(0,0,0,.22);

  opacity: 0;
  transform: translate(-50%, 10px);
  pointer-events: none;
  transition: .18s ease;
}

.to-top.is-visible{
  opacity: 1;
  transform: translate(-50%, 0);
  pointer-events: auto;
}

.to-top:hover{
  transform: translate(-50%, -2px);
  box-shadow: 0 16px 34px rgba(0,0,0,.24);
}

/* ============================
   Origins page: timeline
   ============================ */
.timeline{
  position: relative;
  display: grid;
  gap: 14px;
  margin-top: 14px;
}

/* vertical spine */
.timeline::before{
  content:"";
  position:absolute;
  left: 18px;
  top: 8px;
  bottom: 8px;
  width: 2px;
  background: rgba(11,127,132,.22);
  border-radius: 999px;
}

.timeline-item{
  position: relative;
  display: grid;
  grid-template-columns: 44px 1fr;
  column-gap: 14px;
  align-items: start;
}

.timeline-dot{
  width: 14px;
  height: 14px;
  border-radius: 999px;
  margin-left: 12px;
  margin-top: 18px;
  background: var(--orange);
  box-shadow: 0 0 0 4px rgba(245,155,0,.18);
  border: 1px solid rgba(0,0,0,.10);
}

.timeline-card.panel{
  padding: 18px;
}

.timeline-title{
  margin: 0 0 8px;
  font-size: 18px;
  letter-spacing: -0.015em;
}
/* ===== Mobile (<= 720px): consolidated fixes ===== */
@media (max-width: 720px){

  /* ---------- Origins timeline tweaks ---------- */
  .timeline::before{ left: 14px; }
  .timeline-item{ grid-template-columns: 36px 1fr; column-gap: 12px; }
  .timeline-dot{ margin-left: 8px; }

  /* ---------- Heroes: size to content (no dead space) ---------- */
  .hero{
    height: auto;
    min-height: auto;            /* override desktop min-height: 420px / 100% */
    justify-content: flex-start; /* override space-between */
  }

  /* FIX: hero inline paragraph reserving height via flex-basis (desktop rule) */
  .hero.hero-inline-hero .hero-inline{
    flex: 1 1 auto;              /* allow normal flow */
    min-width: 0;
  }

  /* ---------- Signals cards (mobile stacking) ---------- */
  .signal-top{
    flex-direction: column;
    align-items: stretch;
  }
  .signal-date{ margin-left: auto; }
  .signal-title{ white-space: normal; }

  /* ---------- Mobile header (tight + fixed) ---------- */
  .site-header{
    position: fixed;
    top: 0; left: 0; right: 0;
    width: 100%;
    padding-top: 2px;
    padding-bottom: 1px;
  }

  .header-inner{
    gap: 4px;
    min-height: 0;
  }

  .header-top{
    gap: 8px;
    align-items: center;
  }

  .brand{ gap: 8px; }

  .brand-logo{
    width: 56px;
    height: 56px;
  }

  .brand-name{
    font-size: 15px;
    line-height: 1;
  }

  .nav-toggle{
    width: 36px;
    height: 36px;
  }

  /* menu closed should not reserve space */
  .nav{
    margin: 0;
    border-top: 0;
  }
  .nav.is-open{
    margin-top: 8px;
    border-top: 1px solid rgba(255,255,255,.10);
  }

  /* Reserve space so content doesn’t slide under the fixed header */
  body{ padding-top: 70px; }

  /* Tighten wasted space above first hero/panel */
  .main{ padding-top: 0 !important; }
  .main > .below:first-child{ padding-top: 6px !important; }

  /* ---------- Updates/Signals filters: 2 clean rows ---------- */
  .signals-filters{
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }

  /* Row 1: pills — single line, swipe if needed */
  .signals-pills{
    display: flex;
    flex-wrap: nowrap;                 /* never wrap */
    gap: 10px;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 6px;

    /* optional edge swipe feel (matches your --gutter = 16 on mobile) */
    margin-right: -16px;
    padding-right: 16px;
  }
  .signals-pills::-webkit-scrollbar{ height: 0; }

  .signals-pill{
    flex: 0 0 auto;
    white-space: nowrap;
  }

  /* Row 2: controls — NEVER wrap, but also no ugly scrolling needed */
  .signals-controls{
    display: flex;
    flex-wrap: nowrap;                 /* never wrap */
    gap: 10px;
    width: 100%;
  }

  .signals-ctl{
    flex: 1 1 0;                       /* share row evenly */
    min-width: 0;                      /* prevents overflow-induced wrap */
    white-space: nowrap;
    text-align: center;
  }
}
